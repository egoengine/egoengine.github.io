<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>EgoEngine â€” teaser swipe</title>
<style>
  :root { --divider-x: 50vw; --bg:#0b0b0c; --line: rgba(255,255,255,.95); }
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;background:var(--bg);color:#eaeaea;font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}

  /* centered text logo */
  .brand{
    position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
    z-index:3; pointer-events:none; user-select:none;
  }
  .brand .wordmark{
    font-weight:900; font-size:clamp(42px,10vw,120px); line-height:1;
    background:linear-gradient(180deg,#fff,#dfe5ff);
    -webkit-background-clip:text; background-clip:text; color:transparent;
    text-shadow:0 10px 32px rgba(0,0,0,.45);
  }

  /* full-bleed stage */
  .stage{ position:fixed; inset:0; overflow:hidden; }
  .stage video{
    position:absolute; inset:0; width:100%; height:100%; object-fit:cover; background:#000;
  }
  /* top layer (original) revealed from the left by global cut */
  .overlay{
    clip-path: polygon(0 0, var(--cut,0px) 0, var(--cut,0px) 100%, 0 100%);
    will-change: clip-path;
    z-index:2;
  }
  /* bottom layer (inpainted) */
  .base{ z-index:1; }

  /* global divider line */
  #divider{
    position:fixed; top:0; bottom:0; left:var(--divider-x); width:2px;
    background:var(--line); transform:translateX(-1px); pointer-events:none; z-index:4;
  }
</style>
</head>
<body>
  <div class="brand"><div class="wordmark">EgoEngine</div></div>
  <div id="divider"></div>

  <div class="stage">
    <!-- top: teaser_original.mp4 (left side) -->
    <video id="orig" class="overlay" autoplay muted playsinline loop preload="auto"
           src="videos/teaser_original.mp4"></video>
    <!-- bottom: teaser_inpainted.mp4 (right side) -->
    <video id="inp"  class="base"    autoplay muted playsinline loop preload="auto"
           src="videos/teaser_inpainted.mp4"></video>
  </div>

<script>
  // kick playback (mobile/autoplay safety)
  const vids = [document.getElementById('orig'), document.getElementById('inp')];
  const tryPlayAll = () => vids.forEach(v => v.play().catch(()=>{}));
  vids.forEach(v => {
    v.addEventListener('canplay', tryPlayAll, {once:true});
    v.addEventListener('loadeddata', tryPlayAll, {once:true});
  });
  window.addEventListener('touchstart', tryPlayAll, {once:true, passive:true});

  // one global divider for both
  let cutX = Math.round(window.innerWidth * 0.5);
  function updateDivider(){
    document.documentElement.style.setProperty('--divider-x', cutX + 'px');
    document.documentElement.style.setProperty('--cut', cutX + 'px');
  }
  function setCutFrom(x){
    cutX = Math.max(0, Math.min(window.innerWidth, x));
    updateDivider();
  }
  window.addEventListener('mousemove', e => setCutFrom(e.clientX));
  window.addEventListener('touchstart', e => e.touches[0] && setCutFrom(e.touches[0].clientX), {passive:true});
  window.addEventListener('touchmove',  e => e.touches[0] && setCutFrom(e.touches[0].clientX), {passive:true});
  window.addEventListener('resize', updateDivider);
  updateDivider();
</script>
</body>
</html>
